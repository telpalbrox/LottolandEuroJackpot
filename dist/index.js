"use strict";function numberWithCommas(a){a=a.toFixed(2).toString();for(var b=/(-?\d+)(\d{3})/;b.test(a);)a=a.replace(b,"$1,$2");return a}function template(a){return'\n        <div class="numbers">\n            '+a.numbers.map(function(a){return'<span class="number">'+a+"</span>"}).join("")+"\n            "+a.euroNumbers.map(function(a){return'<span class="number euro">'+a+"</span>"}).join("")+'\n        </div>\n        <table class="mdl-data-table mdl-shadow--2dp results-table">\n            '+a.odds.map(function(a){return"\n                    <tr>\n                        <td>\n                            Tier "+a.romanNumber+"\n                        </td>\n                        <td>\n                            "+a.winners+"x\n                        </td>\n                        <td>\n                            â‚¬"+numberWithCommas(a.prize)+"\n                        </td>\n                    </tr>\n                "}).join("")+"\n        </table>\n    "}function init(a){renderLottoland(a.last[0]),loadSelects(a),addSelectsListeners(a)}function renderLottoland(a){var b=transformLottolandResponse(a);document.getElementById("results").innerHTML=template(b),document.getElementById("day").innerHTML=a.date.day+"/"+a.date.month+"/"+a.date.year}function transformLottolandResponse(a){for(var b=_.cloneDeep(a),c=[],d=1;12>=d;d++){var e="rank"+d;c.push({winners:a.odds[e].winners,prize:a.odds[e].prize,romanNumber:romanNumbers[d]})}return b.odds=c,b}function loadSelects(a){loadDaySelect(a,a.last[0].date.year),loadYearSelect(a)}function loadDaySelect(a,b){for(var c=document.getElementById("day-select"),d=0;d<c.options.length;d++)c.options[d]=null;_.groupBy(a.last,"date.year")[b].forEach(function(a,b){c.options[b]=new Option(a.date.day+"/"+a.date.month+"/"+a.date.year,a.nr)})}function loadYearSelect(a){var b=document.getElementById("year-select");Object.keys(_.groupBy(a.last,"date.year")).reverse().forEach(function(a,c){b.options[c]=new Option(a,a)})}function addSelectsListeners(a){addSelectDayListener(a),addSelectYearListener(a)}function addSelectDayListener(a){var b=document.getElementById("day-select");b.addEventListener("change",function(b){renderLottoland(getDataByNr(b.target.value,a))})}function getDataByNr(a,b){return b.last.find(function(b){return b.nr==a})}function addSelectYearListener(a){var b=document.getElementById("year-select"),c=document.getElementById("day-select");b.addEventListener("change",function(b){loadDaySelect(a,b.target.value),renderLottoland(getDataByNr(c.value,a))})}var romanNumbers={1:"I",2:"II",3:"III",4:"IV",5:"V",6:"VI",7:"VII",8:"VIII",9:"IX",10:"X",11:"XI",12:"XII"};